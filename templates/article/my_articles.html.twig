{% extends 'base.html.twig' %}

{% block title %}My articles published{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .link {font:1.2; color: grey;}
</style>

<div class="example-wrapper">
    Les derniers articles
   {% for article in articles %}
    <h2>{{ article.title }}</h2>

    <p>
        {{ article.description|striptags|slice(0, 150) ~ '…' }}
    </p>

    <button
        class="btn btn-sm btn-secondary"
        data-bs-toggle="modal"
        data-bs-target="#modal-{{ article.id }}">
        Détails
    </button>

    <p>
        Le {{ article.createdAt|date('d/m/Y H:i') }} —
        {{ article.author ? article.author.login : 'Anonyme' }}
    </p>

    <div class="modal fade" id="modal-{{ article.id }}" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ article.title }}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    {{ article.description|raw }}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>    


{% endblock %}






